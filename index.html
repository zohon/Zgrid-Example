<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>jQuery UI Sortable - Display as grid</title>

  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>

  <script src="js/vendor/bootstrap.js"></script>
  <script src="js/vendor/jquery.mobile-1.4.0.js"></script>

  <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>

  <script src="js/vendor/jquery.ui.touch-punch.js"></script>

  <script src="js/zGrid.js"></script>

  <link rel="stylesheet" href="css/bootstrap.css">
  <link rel="stylesheet" href="css/zGrid.css">

  <style>
    body {
      background : #F2F2F2 !important;
    }
  </style>

  <script>
  $(function() {

    tailleItem = 275;
    col = 4;
    
    clalcGrid();

    $('.zGridItems').sortable({ 
      tolerance: "pointer",
      revert : false,
      handle: ".handle",
      placeholder: {
          element: function(clone, ui) {
                if($(clone).attr('data-width')) {
                  dataWidth = "data-width='"+$(clone).attr('data-width')+"'";
                } else {
                  dataWidth = "";
                }
                if($(clone).attr('data-height')) {
                  dataHeight = "data-height='"+$(clone).attr('data-height')+"'";
                } else {
                  dataHeight = "";
                }
                return $('<li class="zGridItem highlight" '+dataWidth+' '+dataHeight+'></li>');
          },
          update: function() {
            return true;
          },
      },
    });

    $( ".zGridItems" ).disableSelection();

    setInterval("clalcGrid($('.zGridItems'))", 50);
    });

  </script>
</head>
<body>

<ul data-role="listview" data-inset="true" data-theme="d" id="sortable">
      <li data-role="list-divider">List</li>
      <li>Item 1</li>
      <li>Item 2</li>
      <li>Item 3</li>
      <li>Item 4</li>
      <li>Item 5</li>
</ul>


<ul class="zGridItems"  >

  <li class="zGridItem" data-title="item2" data-width="1" >
    <div class="handle" ></div>
    <div class="content">
    
    </div>
  </li>

  <li class="zGridItem" data-title="item3" data-width="2" >
  <div class="handle" ></div>
  </li>

  <li class="zGridItem" data-title="item1" data-height="2"  >
    <div class="handle" ></div>
  </li>

  <li class="zGridItem" data-title="item4" data-width="2" >
  <div class="handle" ></div>
  </li>

  <li class="zGridItem" data-title="item5" data-width="2" >
  <div class="handle" ></div>
  </li>

  <li class="zGridItem" data-title="item6" data-width="1" >
  <div class="handle" ></div>
  </li>

  <li class="zGridItem" data-title="item7">
  <div class="handle" ></div>
  </li>

</ul>
 


  <script>
  $(document).bind('pageinit', function() {
    $( "#sortable" ).sortable();
    $( "#sortable" ).disableSelection();
    <!-- Refresh list to the end of sort to have a correct display -->
    $( "#sortable" ).bind( "sortstop", function(event, ui) {
      $('#sortable').listview('refresh');
    });
  });
  </script>

</body>
</html>